import"./Filmovie.e0f2afa7.js";var e=globalThis,r={},t={},n=e.parcelRequiref29c;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var i={id:e,exports:{}};return r[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){t[e]=r},e.parcelRequiref29c=n),n.register,n("aoHJH");var i=n("dlKw0"),a=n("j10sx"),o=n("9HJaw"),l=n("gTSai");!function(){var e;let r,t=document.querySelector(".films__list"),n=document.querySelector(".header__nav-form"),c=1,s=1,u="",d=!1;async function f(){t.children.length||l.notifications.showLoader();try{let e=u?await (0,i.searchMovies)(u,c,o.currentLanguage):await (0,i.fetchTrending)(c,o.currentLanguage);s=e.total_pages??1,t.innerHTML+=(0,a.renderMovies)(e.results,o.currentLanguage)}catch(e){l.notifications.error()}finally{l.notifications.hideLoader()}}n.addEventListener("submit",e=>{e.preventDefault();let r=n.querySelector("input");if(!r)return;let i=r.value.trim();i&&(e=>{u=e,c=1,t.innerHTML="",d=!1,f()})(i)}),e=async()=>{if(!d){if(c>=s){d=!0,l.notifications.noMoreMovies();return}c++,await f()}},r=!1,window.addEventListener("scroll",async()=>{let{scrollTop:t,scrollHeight:n,clientHeight:i}=document.documentElement;t+i>=n-700&&!r&&(r=!0,await e(),r=!1)}),f(),document.addEventListener("languageChanged",()=>{c=1,t.innerHTML="",d=!1,f()})}();
//# sourceMappingURL=Filmovie.34d106f3.js.map
