import"./library.d17c0ffb.js";var e=globalThis,n={},a={},t=e.parcelRequired76b;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){a[e]=n},e.parcelRequired76b=t),t.register,t("aoHJH");var r=t("jz0No");async function i(e,n){let{data:a}=await r.tmdbClient.get("trending/movie/day",{params:{page:e,language:n}});return a.results}async function l(e,n,a){let{data:t}=await r.tmdbClient.get("search/movie",{params:{query:e,page:n,language:a}});return t.results}let o=new Map([[28,{en:"Action",pl:"Akcja"}],[12,{en:"Adventure",pl:"Przygoda"}],[16,{en:"Animation",pl:"Animacja"}],[35,{en:"Comedy",pl:"Komedia"}],[80,{en:"Crime",pl:"KryminaÅ‚"}],[99,{en:"Documentary",pl:"Dokument"}],[18,{en:"Drama",pl:"Dramat"}],[10751,{en:"Family",pl:"Familijny"}],[14,{en:"Fantasy",pl:"Fantasy"}],[36,{en:"History",pl:"Historyczny"}],[27,{en:"Horror",pl:"Horror"}],[10402,{en:"Music",pl:"Muzyczny"}],[9648,{en:"Mystery",pl:"Tajemniczy"}],[10749,{en:"Romance",pl:"Romans"}],[878,{en:"Science Fiction",pl:"Science Fiction"}],[10770,{en:"TV Movie",pl:"Film telewizyjny"}],[53,{en:"Thriller",pl:"Romans"}],[10752,{en:"War",pl:"Wojenny"}],[37,{en:"Western",pl:"Western"}]]);var s=t("9HJaw");let p=document.querySelector(".films__list"),c=document.querySelector(".header__nav-form");!function(){var e;let n,a=1,t="";async function r(){var e;let n=t?await l(t,a,s.currentLanguage):await i(a,s.currentLanguage);p.innerHTML+=(e=s.currentLanguage,n.map(n=>{let a=Math.round(10*n.vote_average)/10,t=n.genre_ids.map(n=>{let a;return a=o.get(n),"pl-PL"===e?a?.pl??"Nieznany":a?.en??"Unknown"}),r=n.backdrop_path?`https://image.tmdb.org/t/p/w500${encodeURIComponent(n.backdrop_path)}`:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Image_not_available.png/640px-Image_not_available.png";return`<li class="films__list-item" data-id="${n.id}">
       <img src="${r}" alt="${n.title}" />
        <h2>${n.title}</h2>
        <p>${t.slice(0,2).join(", ")} | <span>${n.release_date.substring(0,4)}</span>
        <span class="films__list-item--rating">${a}</span></p>
      </li>`}).join(""))}c.addEventListener("submit",e=>{e.preventDefault();let n=c.querySelector("input");if(!n)return;let i=n.value.trim();i&&(e=>{t=e,a=1,p.innerHTML="",r()})(i)}),e=async()=>{a++,await r()},n=!1,window.addEventListener("scroll",async()=>{let{scrollTop:a,scrollHeight:t,clientHeight:r}=document.documentElement;a+r>=t-700&&!n&&(n=!0,await e(),n=!1)}),r(),document.addEventListener("languageChanged",()=>{a=1,p.innerHTML="",r()})}();
//# sourceMappingURL=Filmoteka.e0cbe27d.js.map
